/**
  * @name Smoothened
  * @version 1.0.0
  * @description Smoothened, *everything.* Includes ideas from Modern Indicators and Harmony.
  * @source https://github.com/LayneTheEpic/Smoothened
  * @authorId 393898580177321985
  * @author LayneTheEpic#9891
  * @invite 8R6z74s
  * @license CC BY-NC-SA 4.0
  **/

/* Search bar  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

/* Emoji picker stuffs */
li.emojiItem-14v6tW.emojiItemSelected-1aLkfV {
	box-shadow: none;
}


:root {
	--transition-time: 0.2s;
	--indicator-size: 2px;
	
	--blurple: #7289da;
	
	--channel-focused: #7289da1d;
	--channel-focused-hover: #7289da2d;

	
	--channel-unread-marker: #fffa;
	--channel-unread: #ffffff0a;
	--channel-unread-hover: #ffffff20;
	
	--input-border-width: 1px;
}


div.search-36MZv-, div.searchBar-3dMhjb {
	transition: width, var(--transition-time);
}

div.search-36MZv-:active, div.searchBar-3dMhjb:active {
	width: 200px;
}

/* Take the text bar and round that bad boy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.channelTextArea-rNsIhG.channelTextArea-2VhZ6z,
div.scrollableContainer-2NUZem.webkit-HjD9Er {
	border-radius: 22px;
}

/* Lighten up some colors (so you can seeeeeeee) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.content-1o0f9g {
	color: var(--interactive-normal);
	background: none;
}

/* Friends header  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

section.container-1r6BKw.themed-ANHk51, /* Friends menu bar */
div.container-2Rl01u.clickable-2ap7je, /* /* Server menu (dropdown) */
header.header-2o-2hj, /*Server menu dropdown inside */
div.searchBar-6Kv8R2 /* "Find or start a conversation" */
{
	height: 60px;
}

/* Remove ugleeeee lines ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

section.panels-j1Uci_ > div.container-1giJp5, /* Underneath stream to server */
div.panel-24C3ux.activityPanel-28dQGo, /* Stream activity */
div.tabBarContainer-1s1u-z, /* User fullscreen popout */
div.tabBody-3YRQ8W::before, /* Friends menu bar */
div.content-yTz4x3::before, /* Channel header */
div.peopleListItem-2nzedh,
header.header-2o-2hj, /*Server menu dropdown inside */
div.searchBar-6Kv8R2 /* "Find or start a conversation" */
{
	box-shadow: none;
	border: none;
}

div.separator-2I32lJ {
	visibility: hidden; /* still some space, but not a line */
}

/* Gradients  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

nav.wrapper-1Rf91z.guilds-1SWlCJ > div.scrollerWrap-2lJEkd.scrollerWrap-1IAIlv > div.scroller-2FKFPG.scroller-2TZvBN { /* Server list container */
	background: linear-gradient(90deg, var(--background-tertiary) 0, var(--background-secondary) 65%);
}

/* header.header-2o-2hj, needs to been done in JS so it only gets applied if no banner */
div.scroller-2FKFPG.scroller-2wx7Hm, /* Server channels container */
div.scroller-2FKFPG.scroller-1JbKMe, /* Friends list container */
section.panels-j1Uci_, /* Profile container (at bottom) */
div.searchBar-6Kv8R2 /* "Find or start a conversation" */
{
	background: linear-gradient(90deg, var(--background-secondary) 50%, var(--background-primary) 100%);
}

section.container-1r6BKw { /* Top bar (friends list) */
	background: linear-gradient(90deg, var(--background-primary) calc(100% - 420px), var(--background-secondary) calc(100% - calc(420px - calc(420px * 0.65)))) !important;
	
	/* AAAAA MY BRAIN HURTS */
	
	/* let me explain:
		linear-gradient from left to right
		first color stop is at 100%-420px (container width: 420px), which is at the left-most side of the thing, start at 100%, subtract the width of the container - 85% of it's width
		= color stop location
		yaay
		fun
	*/
}

div.scroller-2FKFPG.messages-3amgkR.scroller-3sQKXg, /* Message container */
div.scroller-2FKFPG.nowPlayingScroller-2XrVUt, /* Friends: 'active now' container */
section.title-3qD0b-.container-1r6BKw, /* Channel name container */
main.chatContent-a9vAAp /* Text container */
{
	background: linear-gradient(90deg, var(--background-primary) 0, var(--background-secondary) 65%) !important;
}

/* Fix the server image thingy */

div.animatedContainer-1pJv5C { /* Image has high prio */
	z-index: 2;
}

header.header-2o-2hj { /* ...but header is higher */
	z-index: 3;
}

/* Scrollbars  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.scroller-2FKFPG::-webkit-scrollbar {
	width: 14px;
}

div.scroller-2FKFPG::-webkit-scrollbar-track-piece {
	background-color: transparent !important;
	border: none !important;
}


div.sidebar-2K8pFh { /* Removes ugly corner from side bars */
	border-radius: 0 !important;
}

/* ????? */

div.children-19S4PO::after {
	display: none;
}

/* Topbar upscaling  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

h1.name-3YKhmS {
	font-size: 18px;
}

/* Game icons ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.gameIcon-gg34Dz.gameIcon-_0rmMm {
	transition: 0.7s ease-out;
	transform: none;
}

.gameIcon-gg34Dz.gameIcon-_0rmMm:hover {
	transform: translateY(-3px) scale(1.2) rotate(330deg);
	transition-delay: 3s; /* In hover so it's 1-way */
}


/* Transitions ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.message-2qnXI6.cozyMessage-3V1Y8y.groupStart-23k01U.wrapper-2a6GCs, /* Message */
div.voiceUser-14U_Ns > div.content-3xS9Lh > div.username-lm8y6T, /* VC user name */
div.message-2qnXI6.cozyMessage-3V1Y8y.wrapper-2a6GCs, /* Message, without name */
span.latin24CompactTimeStamp-2V7XIQ.timestamp-3ZCmNB, /* Message timestamp */
div.offline-3nJYBR.container-2Pjhx-.clickable-1JJAn8, /* Offline */
li.emojiItem-14v6tW.emojiItemSelected-1aLkfV, /* Emoji in emojpi picker */
div.iconVisibility-1bOqu7.wrapper-1ucjTd, /* Channel background, essentially */
div.wrapper-1ucjTd div.content-3at_AU, /* Channel name */
div.item-1tOPte.labelContainer-1BLJti, /* Popup actions */
button.button-14-BFJ.button-38aScr, /* Mute, deafen, settings */
h2.name-IbjUBS.container-2ax-kl, /* Server category name */
div.spoilerWarning-2aAZq1, /* Spoiler warning */
div.note-3HfJZ5 textarea, /* User "note" textarea */
div.voiceUser-14U_Ns, /* VC user */
div.layout-2DM8Md, /* Online members */
div.name-3_Dsmg, /* Channel name */
.interactive /* Namely, mentions */
{
	transition: background, color, background-color, opacity, var(--transition-time);
}

div.peopleListItem-2nzedh { /* Friends center menu item */
	transition: background var(--transition-time); /* I dunno why it's so picky ;-; */
}

svg.addButtonIcon-3u-3Hu, /* Add channel in category */
svg.icon-WnO6o2 /* Server category arrow (collapser) */
{
	transition: fill, transform, var(--transition-time);
}

/* Member popout ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.scroller-2FKFPG.bodyInner-245q0L {
	background: linear-gradient(180deg, var(--background-tertiary) 0, var(--background-secondary) 75%);
}

div.header-2BwW8b > div.activityUserPopout-2yItg2.activity-11LB_k { /* ruins gradient otherwise.-. */
	background-color: transparent;
}

div.footer-1fjuF6 {
	border: none;
}

/* Spotify */

div.headerSpotify-zpWxgT.header-2BwW8b {
	background: linear-gradient(180deg, #1db954 0, var(--background-tertiary) 100%);
	/* Seamlessly connects with bottom gradient */
}

/* Playing now */

div.headerPlaying-j0WQBV.header-2BwW8b {
	background: linear-gradient(180deg, var(--blurple) 0, var(--background-tertiary) 100%);
}

/* Twitch */

div.headerStreaming-2FjmGz.header-2BwW8b {
	background: linear-gradient(180deg, #6441a4 0, var(--background-tertiary) 100%);
}

/* Xbox */

div.headerXbox-3G-4PF.header-2BwW8b {
	background: linear-gradient(180deg, #107c10 0, var(--background-tertiary) 100%)
}

/* Misc ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

::selection {
	background: #a5b3ff; /* meh this color looks better */
	color: var(--text-normal);
}


/* Channel unread thingy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.iconVisibility-1bOqu7.wrapper-1ucjTd {
	padding: 0;
	border-radius: 0 4px 4px 0;
}

div.content-3at_AU {	
	border-radius: 0 4px 4px 0;
}

div.iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA > div.unread-3zKkbm {
	border-radius: 0;
	
	height: 100%;
	top: 0;
	left: 0;
	margin: 0;
	
	background: var(--channel-unread-marker);
	
	width: var(--indicator-size);
}

div.iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA > div.content-3at_AU {
	background: var(--channel-unread);
}

div.iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA:hover > div.content-3at_AU {
	background: var(--channel-unread-hover);
}

div.content-3at_AU {
	margin-left: calc(var(--indicator-size) + 2px);
}

div.iconVisibility-1bOqu7.wrapper-1ucjTd.modeSelected-1zApJ_ {
	border-left: solid var(--indicator-size) var(--blurple);
}

div.iconVisibility-1bOqu7.wrapper-1ucjTd.modeSelected-1zApJ_ > div.content-3at_AU {
	background: var(--channel-focused);
	margin: 0;
}

div.iconVisibility-1bOqu7.wrapper-1ucjTd.modeSelected-1zApJ_:hover > div.content-3at_AU {
	background: var(--channel-focused-hover) !important;
}

/* Jump to present ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.jumpToPresentBar-9P20AM.barBase-39XTcM {
	width: max-content;
	left: 50%;
	transform: translateX(-50%);
}

div.jumpToPresentBar-9P20AM.barBase-39XTcM > button.barButtonMain-1giYuj.barButtonBase-3UKlW2 {
	display: none;
}

div.jumpToPresentBar-9P20AM.bar-Base span.spinner-qO2DFZ {
	padding: 8px;
}

/* Harmony Indicators ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

div.iconBadge-2wi9r4.iconBadge-2NuvG9.base-PmTxvP, /* Audio from server icon */
div.numberBadge-2s8kKX, /* Noti amount */
span.iconBadge-qZ4Ksk /* Pin mark */
{
	background-color: var(--blurple) !important;
}

svg.icon-3BcwQu.iconServer-3Z_nSE, /* Deafened in VC */
div.circleIconButton-jET_ig, /* Server discovery, create/join */
path.strikethrough-1n4ekb /* Strikethrough on mute, deafen */
{
	color: var(--blurple);
}

div.circleIconButton-jET_ig:hover, div.circleIconButton-jET_ig.selected-ugP_am {
	background-color: var(--blurple);
	color: var(--interactive-active);
}

span.item-2hkk8m { /* Server 'pills' */
	background-color: var(--blurple) !important;
}

/* Text input ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

form.form-2fGMdU div.channelTextArea-rNsIhG.channelTextArea-2VhZ6z {
	margin-top: var(--input-border-width);
	margin-bottom: calc(24px - var(--input-border-width));
	
	
	border: var(--input-border-width) solid #0000;
	
	transition: background, border, filter, var(--transition-time);
}

form.form-2fGMdU div.channelTextArea-rNsIhG.channelTextArea-2VhZ6z,
form.form-2fGMdU div.scrollableContainer-2NUZem.webkit-HjD9Er,
form.form-2fGMdU div.scrollableContainer-2NUZem.webkit-HjD9Er > div.inner-MADQqc {
	background: transparent;
}

form.form-2fGMdU div.channelTextArea-rNsIhG.channelTextArea-2VhZ6z:hover:not(:focus-within) {
	background: var(--channeltextarea-background);
	filter: brightness(0.9);
}

form.form-2fGMdU div.channelTextArea-rNsIhG.channelTextArea-2VhZ6z:focus-within {
	border: var(--input-border-width) solid var(--blurple);
	background: var(--channeltextarea-background);
}

div.sprite-2iCowe {
	transition: transform, filter var(--transition-time);
}